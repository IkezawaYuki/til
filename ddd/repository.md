## リポジトリ
直接的なアクセスはリポジトリから？

あらゆるリポジトリは、クライアントがなんらかの条件に一致するオブジェクトを要求できるようにするためのメソッドを提供する。
再構成する。データベースから引っ張ってきてオブジェクトに格納する。

例）識別子を用いて、エンティティを取り出す。
　　特定の属性値やパラメータの複雑な組み合わせを用いてオブジェクトのコレクションを要求する
　　日付の範囲などに基づいてオブジェクトを選択する。

オブジェクトやオブジェクトのコレクションを返すか、集計演算を戻す。

リポジトリは基底にあるデータストアをカプセル化する。
クエリの実装は、データストアで行う。

ファクトリとリポジトリの違い
DBからデータをオブジェクトに再構成するというリポジトリだが、それは「ファクトリ」と同じだと認識しがち。
しかし、新しいオブジェクトを生成するファクトリと古いオブジェクトを見つけ出すリポジトリには本質的には違う。
　→リポジトリはメモリ上にオプジェクトがあるように錯覚させるようにする。
そして、リポジトリがオブジェクトを再構成するときにはファクトリを使用する。
新しいオブジェクトを格納するのには、リポジトリを使用するのは混乱のもとなので、これは避ける。

